(this.webpackJsonpmewsick=this.webpackJsonpmewsick||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/logo-alt.31e4de0f.png"},18:function(e,t,a){},31:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},37:function(e,t,a){},54:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),o=(a(36),a(37),a(8)),s=a(3),i=(a(18),a(1)),m=a(11),u=a.n(m),d=a(12),f=a.n(d),x=(a(54),function(){return l.a.createElement("div",{class:"lds-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}),g=function(e){var t=e.song,a=e.setAudioSRC,r=(e.songInfo,e.setSongInfo),c=t.title,o=t.thumbnail,i=t.duration,m=(t.views,t.id),u=Object(n.useState)(!1),d=Object(s.a)(u,2),g=d[0],b=d[1];return l.a.createElement("div",{className:"relative grid items-center max-w-sm grid-cols-4 mx-auto my-2 overflow-hidden text-gray-700 align-middle transition duration-100 bg-white border rounded-lg shadow cursor-pointer md:max-w-xl lg:my-4 hover:bg-gray-100 hover:shadow-lg",onClick:function(){return function(e){b(!0),f.a.get("".concat("http://localhost:3001","/api/song?id=").concat(encodeURI(e))).then((function(e){return e.data})).then((function(t){console.log(t),a(t),r({title:c,thumbnail:o,id:e,duration:i}),b(!1)})).catch((function(e){b(!1),console.log("Error"),alert("Error fetching song")}))}(m)}},l.a.createElement("img",{className:"object-cover w-full h-24 bg-gray-300 border-r-8 border-pink-200 md:h-24",src:o,alt:""}),l.a.createElement("div",{className:"flex flex-col col-span-3 ml-2 mr-2 md:ml-4 "},l.a.createElement("p",{className:"flex-grow mb-3 leading-tight text-gray-700 songinfo-title"},c),l.a.createElement("div",{className:"font-bold text-gray-800 "},l.a.createElement("div",{className:"inline-flex items-center px-2 text-sm text-gray-700 border rounded-full"},l.a.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-4 h-4"},l.a.createElement("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd",fillRule:"evenodd"})),l.a.createElement("p",{className:"ml-2 text-md"},i))),g&&l.a.createElement("div",{className:"absolute right-0 mr-2 transform scale-50"},l.a.createElement(x,null))))},b=Object(n.createContext)(""),h=Object(n.createContext)(""),E=a(55),v=function(){var e=Object(n.useContext)(b).setSongInfo,t=Object(n.useContext)(h).setAudioSRC,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),v=d[0],p=d[1],w=Object(n.useState)([]),j=Object(s.a)(w,2),N=(j[0],j[1],Object(n.useState)([])),y=Object(s.a)(N,2),O=y[0],S=y[1],C=Object(n.useState)(!1),R=Object(s.a)(C,2),k=R[0],z=R[1];Object(n.useEffect)((function(){}),[c]),Object(n.useEffect)((function(){E("http://suggestqueries.google.com/complete/search?client=firefox&ds=yt&q=".concat(c),null,(function(e,t){e?console.error(e.message):S(t[1])}))}),[c]);var M=function(e){e.preventDefault(),S([]),c&&(S([]),z(!0),f.a.get("".concat("http://localhost:3001","/api/search?q=").concat(encodeURI(c))).then((function(e){return e.data})).then((function(e){console.log(e),p(e),z(!1)})))};return l.a.createElement("main",null,l.a.createElement("header",{className:"relative flex p-16 bg-gray-800 border-b-4 border-red-200 main-search"},l.a.createElement("div",{className:"container mx-auto "},l.a.createElement(o.b,{className:"flex items-center justify-center",to:"/"},l.a.createElement("img",{className:"w-auto h-auto mr-4 logo",src:u.a,alt:""}),l.a.createElement("span",{className:"px-2 text-xs font-bold text-white bg-red-300 rounded badge"}," BETA "))),l.a.createElement("div",{className:"z-10 flex flex-col w-full max-w-sm px-4 py-2 text-gray-700 bg-white border rounded-lg shadow search-absolute md:max-w-xl "},l.a.createElement("div",{className:"flex items-center "},l.a.createElement("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",className:"w-4 h-4 mx-2"},l.a.createElement("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),l.a.createElement("form",{onSubmit:M,className:"w-full"},l.a.createElement("input",{className:"w-full outline-none ",type:"text",value:c,onChange:function(e){i(e.target.value)},placeholder:"Search for a song..."}))),c&&O&&[l.a.createElement("ul",null,O.map((function(e){return l.a.createElement("li",{className:"p-1 break-words hover:text-black",onClick:function(e){i(e.target.textContent),M(e)}},e)})))])),l.a.createElement("section",{className:"container px-2 m-8 mx-auto mb-64"},k&&l.a.createElement("div",{className:"flex items-center justify-center transform translate-y-4 opacity-75"},l.a.createElement(x,null)," "),!k&&v.length>1&&l.a.createElement("h1",{className:"container max-w-sm px-2 mx-auto mt-12 font-bold text-gray-800 lg:max-w-xl md:max-w-xl"},"Found ",v.length," results"),!k&&v&&v.map((function(a){return l.a.createElement(g,{key:a.id,song:a,setAudioSRC:t,setSongInfo:e})}))))},p=function(){return l.a.createElement("main",{className:"flex flex-col items-center justify-center h-screen bg-red-400 main-landing"},l.a.createElement("img",{className:"h-16 ",src:u.a,alt:""}),l.a.createElement("p",{className:"w-56 m-1 text-center text-white"},"Download all your favourite songs for ",l.a.createElement("span",{className:"font-bold"},"free.")),l.a.createElement(o.b,{to:"/search",className:"flex items-center px-4 py-2 mt-4 text-gray-800 bg-white border rounded-full shadow hover:bg-gray-200"},l.a.createElement("p",{className:"mr-3"},"Get Started "),l.a.createElement("svg",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",className:"w-4 h-4"},l.a.createElement("path",{d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"}))))},w=function(){var e=Object(n.useContext)(b).songInfo,t=Object(n.useContext)(h).audioSRC,a=Object(n.useState)(0),r=Object(s.a)(a,2),c=(r[0],r[1]),o=Object(n.useState)(0),i=Object(s.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(1),f=Object(s.a)(d,2),x=f[0],g=f[1],E=Object(n.useState)(!1),v=Object(s.a)(E,2),p=v[0],w=v[1],j=Object(n.useRef)(null),N=Object(n.useRef)(null),y=Object(n.useState)(!0),O=Object(s.a)(y,2),S=O[0],C=O[1];return Object(n.useEffect)((function(){return function(){S&&C(!1)}}),[]),Object(n.useEffect)((function(){C(!0),c(j.duration),u(0)}),[t]),Object(n.useEffect)((function(){u(100/j.duration*x)}),[x]),t.length>1?l.a.createElement("div",{className:""},l.a.createElement("audio",{src:t,autoPlay:!0,ref:function(e){return j=e},onEnded:function(){C(!1),w(!0)},onTimeUpdate:function(e){return g(j.currentTime)}}),l.a.createElement("div",{className:"fixed bottom-0 w-screen py-2 bg-white border"},l.a.createElement("div",{className:"flex items-center justify-between h-full max-w-xs mx-auto md:max-w-xl"},l.a.createElement("img",{src:e.thumbnail||"https://unsplash.it/400/400",alt:"",className:"w-auto h-12 bg-gray-700 rounded md:h-16 object-fit"}),l.a.createElement("div",{className:"flex flex-col ml-4 "},l.a.createElement("p",{className:"text-sm text-center opacity-75 songinfo-title"},e.title||"Born to love u")),l.a.createElement("div",{className:"flex items-center justify-center text-white "},l.a.createElement("div",{className:"flex items-center justify-center w-10 h-10 text-center text-gray-600 bg-gray-100 border rounded-full hover:bg-gray-200",onClick:function(){p&&(j.currentTime=0,w(!1)),S?j.pause():j.play(),C(!S)}},S?l.a.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-6 h-6"},l.a.createElement("path",{d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd",fillRule:"evenodd"})):l.a.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-6 h-6"},l.a.createElement("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd",fillRule:"evenodd"}))),l.a.createElement("div",{className:"flex items-center justify-center w-10 h-10 ml-2 text-center bg-gray-100 border rounded-full hover:bg-gray-200"},l.a.createElement("a",{href:"".concat("http://localhost:3001","/api/download/?URL=").concat(e.id,"&title=").concat(e.title),className:"text-gray-600"},l.a.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-6 h-6"},l.a.createElement("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd",fillRule:"evenodd"})))))),l.a.createElement("div",{className:"relative flex items-center h-2 max-w-xs mx-auto my-2 overflow-hidden transition-all transition duration-300 bg-purple-300 rounded-full md:max-w-xl hover:h-4",onMouseDown:function(e){var t=e.clientX,a=N.getBoundingClientRect(),n=a.x,l=(t-n)/(a.x+a.width-n)*(j.duration-0)+0;console.log(j.duration),console.log(l),j.currentTime=l,u(100/j.duration*l)},ref:function(e){return N=e}},l.a.createElement("span",{className:"absolute w-full h-full bg-white border",style:{position:"absolute",left:"".concat(m,"%")}})),l.a.createElement("div",{className:"flex justify-between max-w-xs mx-auto text-xs md:max-w-xl "},l.a.createElement("span",{className:"px-1 "},"".concat(Math.floor(x/60),":").concat(Math.round(x%60)))," ",l.a.createElement("span",{className:"px-1 text-white text-gray-700 rounded "},e.duration)))):l.a.createElement("div",null)};var j=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({title:"",thumbnail:""}),o=Object(s.a)(c,2),m=o[0],u=o[1];return l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",exact:!0},l.a.createElement(p,null)),l.a.createElement(i.a,{path:"/search"},l.a.createElement(h.Provider,{value:{audioSRC:a,setAudioSRC:r}},l.a.createElement(b.Provider,{value:{songInfo:m,setSongInfo:u}},l.a.createElement(v,null),l.a.createElement(w,null)))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(j,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.83abe4ef.chunk.js.map